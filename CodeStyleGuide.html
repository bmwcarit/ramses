<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAMSES Documentation: Code Style Guide for RAMSES modules</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ramses_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RAMSES Documentation
   &#160;<span id="projectnumber">27.0.114</span>
   </div>
   <div id="projectbrief">Information for RAMSES users and developers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Code Style Guide for RAMSES modules </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1>Goals</h1>
<ul>
<li>Good readable code</li>
<li>Simplify debugging</li>
<li>Enforcing correctness for obvious code issues</li>
<li>Consistent code style through all of the RAMSES modules</li>
<li>Have fully automated code style checking for local and build server usage</li>
</ul>
<h1>Automated Testing</h1>
<p>RAMSES ships with a python-based code style checker (in &lt;ramses_root&gt;/scripts/code_style_checker). You should not use it directly, but trigger the target "CHECK_CODE_STYLE" generated by CMake.</p>
<h2>Environment | Usage </h2>
<p>Visual Studio | right click on "CHECK_CODE_STYLE" (in folder "CMakePredefinedTargets") and choose "Build" Makefiles | make CHECK_CODE_STYLE Ninja | ninja-build CHECK_CODE_STYLE</p>
<p>On invocation, the style checker will issue <em>two</em> warnings per style issue:</p><ul>
<li>Visual Studio/MSBuild format</li>
<li>GCC format</li>
</ul>
<p>This allows various IDEs to pick up the warnings depending on their preferred flavor.</p>
<h1>(Unordered) Rules</h1>
<h3>Each file must contain an accepted license header.</h3>
<ul>
<li>Rationale: Make sure that proprietary license cannot be missed.</li>
<li>Wrong: <div class="fragment"><div class="line">No source code license in file.</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line">Source file starts with license</div></div><!-- fragment --></li>
<li>Style Checker: warning</li>
</ul>
<h3>One Class definition per file, filename matches class name.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
</ul>
<h3>Types have camel-case name, no prefixes (CClass, SStruct)</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>C_foobar;</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>FooBar;</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Use "I" Prefix for abstract interfaces.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>INode</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> func1() = 0;</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> func2() = 0;</div><div class="line">}</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>If possible use enum class over plain enum for type safety. If plain enum is used, prefix with "E" and each value has is prefixed with a full enum type name (exactly).</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">enum</span> ENodeType</div><div class="line">{</div><div class="line">    ENodeType_Bar,</div><div class="line">    ENodeType_Foo</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: warning</li>
</ul>
<h3>When using enum classes, don't use "E" prefix for the type name; value names must NOT be prefixed by type name.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">enum class</span> NodeType</div><div class="line">{</div><div class="line">    Foo,</div><div class="line">    Bar</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Use upper case with underscore for macros.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Correct: <div class="fragment"><div class="line"><span class="preprocessor">#define MY_SPECIAL_MACRO</span></div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Header files must include header guards with format RAMSES_[PREFIX_]FILENAME_H.</h3>
<ul>
<li>Rationale: Correctness</li>
<li>Wrong: <div class="fragment"><div class="line">in file BadExample.h</div><div class="line"><span class="preprocessor">#ifndef __BAD_EXAMPLE_H__</span></div><div class="line"><span class="preprocessor">#define __BAD_EXAMPLE_H__</span></div><div class="line">[...]</div><div class="line"><span class="preprocessor">#endif // __BAD_EXAMPLE_H__</span></div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line">in file GoodExample.h</div><div class="line"><span class="preprocessor">#ifndef RAMSES_GOODEXAMPLE_H</span></div><div class="line"><span class="preprocessor">#define RAMSES_GOODEXAMPLE_H</span></div><div class="line">[...]</div><div class="line"><span class="preprocessor">#endif</span></div></div><!-- fragment --></li>
<li>Style Checker: warning</li>
</ul>
<h3>Never use tabs, indent with 4 spaces.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Style Checker: warning</li>
</ul>
<h3>Static member methods use camel case naming with capital first letter.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>UtilClass</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> doAwesomeStuff();</div><div class="line">}</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>UtilClass</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">static</span> <span class="keywordtype">void</span> DoAwesomeStuff();</div><div class="line">}</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Static const variables use camel case naming with capital first letter.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>Constants</div><div class="line">{</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> some_var = 0;</div><div class="line">}</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>Constants</div><div class="line">{</div><div class="line">    <span class="keyword">public</span>:</div><div class="line">        <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> SomeVar = 0;</div><div class="line">}</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>All non public API RAMSES code lives in ramses_internal namespace.</h3>
<ul>
<li>Rationale: Correctness, Consistency</li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">namespace </span>ramses_internal</div><div class="line">{</div><div class="line">    [<a class="code" href="namespaceramses.html">ramses</a> code]</div><div class="line">} <span class="comment">// namespace ramses_internal</span></div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>RAMSES API code lives in ramses namespace.</h3>
<ul>
<li>Rationale: Correctness, Consistency</li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">namespace </span><a class="code" href="namespaceramses.html">ramses</a></div><div class="line">{</div><div class="line">    [<a class="code" href="namespaceramses.html">ramses</a> code]</div><div class="line">} <span class="comment">// namespace ramses</span></div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>All files end with an empty line.</h3>
<ul>
<li>Rationale: Correctness, Consistency</li>
<li>Style Checker: warning</li>
</ul>
<h3>Member functions use camel case, starting with small first letter. Prefer a name starting with a verb.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> Get_Value();</div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> getValue() <span class="keyword">const</span>;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Structs should have only public members, which don't have a m_ prefix.</h3>
<ul>
<li>Rationale: Readability, Consistency, Simplicity</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">struct </span>ThisLooksLikeAClass</div><div class="line">{</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> doComplicatedLogic();</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> m_foo;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">struct </span>MyStruct</div><div class="line">{</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> foo;</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> bar;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Member variables start with prefix "m_", followed by camel case name starting with small letter.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> myCoolVar;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    <a class="code" href="namespaceramses.html#a6de13d29afe1f37ca41caec5ae20532cae7956ed7be1c5025a27ed3cb42a396bd">UInt32</a> m_myCoolVar;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Always use const wherever possible.</h3>
<p>Mutable is allowed in specific cases (caching, locks) but must keep 'logical' constness - changes may not be visible to the outside.</p>
<ul>
<li>Rationale: Correctness, Debugging, Compiler friendly</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    Bool isValid();</div><div class="line">    String process(String&amp; str);</div><div class="line">    String&amp; getCurrentMsg();</div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    Bool isValid() <span class="keyword">const</span>;</div><div class="line">    String process(<span class="keyword">const</span> String&amp; str) <span class="keyword">const</span>;</div><div class="line">    <span class="keyword">const</span> String&amp; getCurrentMsg() <span class="keyword">const</span>;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Comments have form "// TODO(&lt;creator_name&gt;) text".</h3>
<ul>
<li>Rationale: Developers should take responsibility for TODOs in code and be able to answer questions on the issue.</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="comment">// TODO some text</span></div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="comment">// TODO(Timo) some text</span></div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Avoid unused variables where possible, mark with macro UNUSED(x) when needed.</h3>
<ul>
<li>Rationale: Correctness</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keywordtype">void</span> func(Int32 value)</div><div class="line">{</div><div class="line">}</div></div><!-- fragment --></li>
<li>Correct (use for permanent solutions, comment out or delete): <div class="fragment"><div class="line"><span class="keywordtype">void</span> func(Int32 <span class="comment">/*value*/</span>)</div><div class="line">{</div><div class="line">}</div></div><!-- fragment --></li>
<li>Correct (only temporarily or technical necessity) <div class="fragment"><div class="line"><span class="keywordtype">void</span> func(Int32 value)</div><div class="line">{</div><div class="line">    UNUSED(value);</div><div class="line">}</div></div><!-- fragment --></li>
<li>Style Checker: N/A (is detected by compiler)</li>
</ul>
<h3>Remove any spaces at the of lines.</h3>
<ul>
<li>Rationale: Consistency, Correctness</li>
<li>Style Checker: warning</li>
</ul>
<h3>Only do one definition per line.</h3>
<ul>
<li>Rationale: Debugging</li>
<li>Wrong: <div class="fragment"><div class="line">Int32* a = NULL, b, c = 5;</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line">Int32* a = NULL;</div><div class="line">Int32 b = 0;</div><div class="line">Int32 c = 5;</div></div><!-- fragment --></li>
<li>Style Checker: warning</li>
</ul>
<h3>Only one statement per line.</h3>
<ul>
<li>Rationale: Debugging</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keywordflow">case</span> 4: doSomething(); a += 5; checkForFoo();</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keywordflow">case</span> 4:</div><div class="line">    doSomething();</div><div class="line">    a += 5;</div><div class="line">    checkForBlub();</div><div class="line">    <span class="keywordflow">break</span>;</div></div><!-- fragment --></li>
<li>Style Checker: Disabled</li>
</ul>
<h3>Curly braces on dedicated lines.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keywordflow">while</span> (running) {</div><div class="line">    [...]</div><div class="line">}</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keywordflow">while</span> (running)</div><div class="line">{</div><div class="line">    [...]</div><div class="line">}</div></div><!-- fragment --></li>
<li>Style Checker: warning</li>
</ul>
<h3>Always use virtual and override, final keywords where appropriate.</h3>
<ul>
<li>Rationale: Correctness, Consistency</li>
<li>Style Checker: N/A</li>
</ul>
<h3>Avoid empty lines at start and end of code blocks.</h3>
<ul>
<li>Rationale: Readability</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line"></div><div class="line">    MyClass();</div><div class="line"></div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    MyClass();</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Don't add extra whitespaces in argument lists, just one space after a comma.</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keywordtype">void</span> func( Int32 arg1 , Bool arg2 );</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keywordtype">void</span> func(Int32 arg1, Bool arg2);</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Initialize primitive types, especially pointers. Prefer init in class declaration.</h3>
<ul>
<li>Rationale: Consistency, Safety</li>
<li>Wrong: <div class="fragment"><div class="line">Foo* myFoo;</div><div class="line"><span class="keywordtype">int</span> i;</div><div class="line"></div><div class="line"><span class="keyword">class </span>myClass</div><div class="line">{</div><div class="line">    Foo* m_foo;</div><div class="line">    <span class="keywordtype">int</span> m_val;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line">Foo* myFoo = <span class="keyword">nullptr</span>;</div><div class="line"><span class="keywordtype">int</span> i = 0;</div><div class="line"></div><div class="line"><span class="keyword">class </span>myClass</div><div class="line">{</div><div class="line">    Foo* m_foo = <span class="keyword">nullptr</span>;</div><div class="line">    <span class="keywordtype">int</span> m_val = 0;</div><div class="line">    <span class="comment">// or in constructor</span></div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Avoid raw pointers.</h3>
<ul>
<li>Rationale: Safety</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keywordtype">int</span> *arr = <span class="keyword">new</span> <span class="keywordtype">int</span>[size];</div><div class="line"><span class="keywordtype">int</span> arrStatic[3];</div><div class="line">Foo *foo = <span class="keyword">new</span> Foo;</div><div class="line"><span class="keyword">delete</span> foo;</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line">std::vector&lt;int&gt; arr(size);</div><div class="line">std::array&lt;int, 3&gt; arrStatic{ x, y, z };</div><div class="line">std::unique_ptr&lt;Foo&gt; foo{ <span class="keyword">new</span> Foo };</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Class initialization list - one member variable per line</h3>
<ul>
<li>Rationale: Readability, Consistency, Debugging</li>
<li>Wrong: <div class="fragment"><div class="line">MyClass::MyClass() : BaseClass(param, param2), m_bmw(1), m_merc(2), m_audi(3) {}</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line">MyClass::MyClass()</div><div class="line">    : BaseClass(param, param2)</div><div class="line">    , m_bmw(1)</div><div class="line">    , m_merc(2)</div><div class="line">    , m_audi(3)</div><div class="line">{</div><div class="line">}</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Avoid using typedef, prefer using "using" instead</h3>
<ul>
<li>Rationale: Readability</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">typedef</span> <span class="keywordtype">int</span> Index;</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">using</span> Index = int;</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Don't use "using namespace MyNamespace;" in global namespace and in headers</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Style Checker: N/A</li>
</ul>
<h3>Prefer the rule of 5 for constructors and assignment operators</h3>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Style Checker: N/A</li>
</ul>
<h3>Constructors have to be explicit when one argument only</h3>
<ul>
<li>Rationale: Robustness</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    MyClass();</div><div class="line">    MyClass(<span class="keywordtype">int</span> num);</div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass</div><div class="line">{</div><div class="line">    MyClass();</div><div class="line">    <span class="keyword">explicit</span> MyClass(<span class="keywordtype">int</span> num);</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Don't use exceptions, if you have to call exception-throwing functions make sure they don't throw exceptions in your code for your inputs.</h3>
<ul>
<li>Rationale: Compatibility</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keywordflow">try</span></div><div class="line">{</div><div class="line">    helperMap.at(key) = 5;</div><div class="line">}</div><div class="line"><span class="keywordflow">catch</span>(...)</div><div class="line">[...]</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">auto</span> it = helperMap.find(key);</div><div class="line"><span class="keywordflow">if</span> (it != helperMap.end())</div><div class="line">{</div><div class="line">    *it = 5;</div><div class="line">}</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h3>Types which are only used in one translation unit (.cpp file) must be put in anonymous namespace</h3>
<ul>
<li>Rationale: Robustness</li>
<li>Style Checker: N/A</li>
</ul>
<h3>Functions which are only used in one translation unit (.cpp file) must be put in anonymous</h3>
<p>namespace or declared static</p>
<ul>
<li>Rationale: Robustness</li>
<li>Style Checker: N/A</li>
</ul>
<h3>Anonymous namespace must not be used in header files</h3>
<ul>
<li>Rationale: Performance, Correctness</li>
<li>Style Checker: N/A</li>
</ul>
<h3>Class definition - public, protected, private in that order.</h3>
<p>Generally: Types first, Methods, followed by member variables.</p>
<ul>
<li>Rationale: Readability, Consistency</li>
<li>Wrong: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass()</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    Int32 m_val;</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> compute();</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> base0Method();</div><div class="line">};</div></div><!-- fragment --></li>
<li>Correct: <div class="fragment"><div class="line"><span class="keyword">class </span>MyClass()</div><div class="line">{</div><div class="line"><span class="keyword">public</span>:</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> base0Method();</div><div class="line">    <span class="keyword">virtual</span> <span class="keywordtype">void</span> base1Method();</div><div class="line"></div><div class="line"><span class="keyword">protected</span>:</div><div class="line">    <span class="keywordtype">void</span> protMethod();</div><div class="line"></div><div class="line">    Int32 m_val;</div><div class="line"></div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">void</span> compute();</div><div class="line"></div><div class="line">    Data m_data;</div><div class="line">};</div></div><!-- fragment --></li>
<li>Style Checker: N/A</li>
</ul>
<h1>Good practices</h1>
<h3>Use reserve() for all containers, when possible to estimate element count</h3>
<ul>
<li>Rationale: Performance</li>
</ul>
<h3>Use STL algorithms when applicable (e.g. find_if instead of range-based for)</h3>
<ul>
<li>Rationale: Performance, Stability</li>
</ul>
<h3>Use modern pointer conventions - avoid shared pointers, use unique_ptr instead of new/delete etc.</h3>
<ul>
<li>Rationale: Performance, Stability </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
