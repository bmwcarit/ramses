<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAMSES Documentation: Getting started with RAMSES</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ramses_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RAMSES Documentation
   &#160;<span id="projectnumber">27.0.119</span>
   </div>
   <div id="projectbrief">Information for RAMSES users and developers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Getting started with RAMSES </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="buildingRamses"></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
Building RAMSES</h1>
<p>In order to build RAMSES, some tools are required:</p><ul>
<li>git (recent version with proper submodule support)</li>
<li>CMake (&gt;= 3.8)</li>
</ul>
<p>optional:</p><ul>
<li>doxygen (for documentation)</li>
<li>python (for code style checking)</li>
</ul>
<h2><a class="anchor" id="autotoc_md2"></a>
Clone Repository</h2>
<p>RAMSES is managed in a git repository, which pulls in additional build dependencies using git submodules. All these external dependencies are contained in &lt;ramses-sdk-root&gt;/external/. Take care to update the submodules to the expected state before building.</p>
<p>You can either checkout recursively </p><pre class="fragment">$ git clone --recursive repositoryLocation
</pre><p>or update submodules manually </p><pre class="fragment">$ git clone repositoryLocation
$ cd ramses-sdk
$ git submodule update --init --recursive
</pre><h2><a class="anchor" id="autotoc_md3"></a>
Configure Build Environment</h2>
<p>The RAMSES build scripts are based on CMake, but we avoided writing plain CMake build scripts for each module of the project. Instead we use a centralized set of CMake macros for project configuration, which are called ACME2 ("Another CMake Extension 2"). Having centralized scripts greatly improves maintainability of our build scripts and guarantees the same behaviour for each module of RAMSES. ACME2 is pulled into the build environment as git submodule together with other build dependencies.</p>
<p>Concerning build environment setup, ACME2 is fully transparent. RAMSES can be treated as standard CMake project.</p>
<p>For some platforms RAMSES requires the use of a toolchain file to define some compiler constants. The RAMSES build environment contains a set of standard CMake toolchain files as a starting point. These example toolchain files are located in </p><pre class="fragment">&lt;ramses-sdk-root&gt;/cmake/toolchain
</pre><h3><a class="anchor" id="autotoc_md4"></a>
Example: generation of a Makefile build environment on Linux 64 bit host</h3>
<pre class="fragment">$ mkdir &lt;build-dir&gt;
$ cd &lt;build-dir&gt;
$ cmake -DCMAKE_TOOLCHAIN_FILE=&lt;ramses-sdk-root&gt;/cmake/toolchain/Linux_X86_64.toolchain &lt;ramses-sdk-root&gt;
&amp; make
</pre><p>CMake specific build flags</p><ul>
<li><p class="startli"><code>CMAKE_INSTALL_PREFIX=&lt;path&gt;</code></p>
<p class="startli">configure target directory for install build target</p>
</li>
<li><p class="startli"><code>CMAKE_BUILD_TYPE=&lt;Debug|Release&gt;</code></p>
<p class="startli">set build configuration, if not specified, RAMSES will default to "Release".</p>
</li>
</ul>
<p>Common build flags (created by ACME2) include</p><ul>
<li><code>ramses-sdk_BUILD_TESTS:[ON|OFF]</code><ul>
<li><code>ON</code>: enable build of RAMSES unit tests</li>
<li><code>OFF</code>: disable build of RAMSES unit tests</li>
</ul>
</li>
<li><code>ramses-sdk_&lt;path&gt;_&lt;module&gt;:[ON|OFF|AUTO]</code><ul>
<li><code>ON</code>: enable build of module</li>
<li><code>OFF</code>: disable build of module</li>
<li><code>AUTO</code>: build enabled, if dependencies are resolved; otherwise build is disabled</li>
</ul>
</li>
<li><code>ramses-sdk_BUILD_EXAMPLES:[ON|OFF]</code></li>
<li><code>ramses-sdk_BUILD_SMOKE_TESTS:[ON|OFF]</code></li>
</ul>
<h2><a class="anchor" id="autotoc_md5"></a>
Build</h2>
<p>After CMake has successfully created the build environment, build the RAMSES project as required by your selected build environment, e.g.</p><ul>
<li>Makefile: make</li>
<li>Visual Studio: F7</li>
<li>KDevelop: F8</li>
<li>XCode: Ctrl + B</li>
<li>QtCreator: Ctrl + B</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
[Optional] Install</h2>
<p>CMake creates an install target in most cases, which will copy all build results into the directory defined in CMAKE_INSTALL_PREFIX. Triggering the install target depends on the selected CMake generator and the build environment, e.g.</p><ul>
<li>Makefile: make install</li>
<li>Most IDEs (Visual Studio, KDevelop, XCode, QtCreator, ...): build install target</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
[Optional] Package</h2>
<p>Our ACME2 build scripts internally configure CPack to support platform specific packaging. Triggering the package target depends on the selected CMake generator and the build environment, e.g.</p><ul>
<li>Makefile: make package</li>
<li>Most IDEs (Visual Studio, KDevelop, XCode, QtCreator, ...): build package target</li>
</ul>
<p><a class="anchor" id="running"></a></p>
<h1><a class="anchor" id="autotoc_md8"></a>
Running RAMSES</h1>
<h2><a class="anchor" id="autotoc_md9"></a>
Run Unit Tests</h2>
<p>The unit tests of RAMSES are based on GTest (Google Test) library, so all unit test binaries inherit all gtest features like shuffling, generating XML reports or filtering of tests to be executed. Unit tests are internally registered at CTest to support best integration of unit test execution into various IDEs. Depending on the used CMake generator, unit tests can be executed by</p><ul>
<li>running 'make test' for Makefile based systems</li>
<li>executing target 'RUN_TESTS' in Visual Studio</li>
</ul>
<h2><a class="anchor" id="autotoc_md10"></a>
Run RAMSES Test Scenario</h2>
<p>A minimal test scenario for RAMSES includes three applications:</p><ul>
<li>Daemon: central controller for content distribution</li>
<li>Renderer: render content to visual representation on display</li>
<li>Client: provide content to be rendered</li>
</ul>
<h3><a class="anchor" id="autotoc_md11"></a>
Run Daemon</h3>
<p>The RAMSES Daemon component is simply started without any special arguments. </p><pre class="fragment">$ cd &lt;CMAKE_INSTALL_PREFIX&gt;/bin
$ ./ramses-daemon
</pre><p>It will enable its communication framework (currently Ethernet IPv4) and wait for incoming connections. A RAMSES setup always requires exactly one daemon to be available within the communication network. Any RAMSES component (Renderers, Clients) needs to know how to connect to the daemon (IP address in current implementation).</p>
<h3><a class="anchor" id="autotoc_md12"></a>
Run Renderer</h3>
<p>The RAMSES renderer component creates a dedicated renderer binary for each supported platform, e.g.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Renderer Name </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ramses-renderer-x11-egl-es-3-0 </td><td class="markdownTableBodyNone">OpenGL ES 3.0 Renderer for X11 backend  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ramses-renderer-wayland-ivi-egl-es-3-0 </td><td class="markdownTableBodyNone">OpenGL ES 3.0 Renderer for Wayland Backend  </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ramses-renderer-windows-wgl-4-2-core </td><td class="markdownTableBodyNone">OpenGL 4.2 Renderer for Windows  </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ramses-renderer-windows-wgl-4-5 </td><td class="markdownTableBodyNone">OpenGL 4.5 Renderer for Windows  </td></tr>
</table>
<p>All renderer binaries share the same set of command line arguments. Run with '-help' to see available command line parameters.</p>
<h3><a class="anchor" id="autotoc_md13"></a>
Run Client Application</h3>
<p>All RAMSES client applications need a connection to RAMSES daemon to register their content. All current client applications interpret the command line flag</p><ul>
<li><code>-i &lt;ip_address&gt;</code></li>
</ul>
<p>as IP address of the daemon to connect to. If no IP address is provided, 'localhost' is silently used as daemon address.</p>
<p>The client applications are located in </p><pre class="fragment">&lt;CMAKE_INSTALL_PREFIX&gt;/bin
</pre><p>Most client applications load resource files (e.g. .RAMSES files), which are located in </p><pre class="fragment">&lt;CMAKE_INSTALL_PREFIX&gt;/bin/res
</pre><p>Clients expect the resources in </p><pre class="fragment">&lt;working_dir&gt;/res
</pre><p>directory. Take care to start the clients with a working directory of &lt;CMAKE_INSTALL_PREFIX&gt;/bin, where res folder can be resolved. Otherwise expect misbehaviour of client applications.</p>
<h4><a class="anchor" id="autotoc_md14"></a>
Example: Start a basic example, connect to ramses-daemon at IP 1.2.3.4</h4>
<pre class="fragment">$ cd &lt;CMAKE_INSTALL_PREFIX&gt;/bin
$ ./ramses-example-basic-geometry -i 1.2.3.4
</pre> </div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
