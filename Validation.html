<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RAMSES Documentation: RAMSES Validation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="ramses_small.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">RAMSES Documentation
   &#160;<span id="projectnumber">27.0.105</span>
   </div>
   <div id="projectbrief">Information for RAMSES users and developers</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">RAMSES Validation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md99"></a>
Error checks</h1>
<p>The RAMSES API is designed to check most errors on usage - for example trying to create TextureSampler using a write-only RenderBuffer will result in error. The error message will appear in log and/or can be retrieved by using RamsesClient::getStatusMessage and passing the status code returned from the API call.</p>
<p>However, there are cases where:</p><ul>
<li>invalid states are very expensive to check, or...</li>
<li>valid states which probably do not produce the desired result or are wasteful (eg. having an empty RenderPass which is being cleared every frame)</li>
</ul>
<p>One good example of an invalid state is a cyclic dependency on the node graph. If one creates three nodes A, B, C and sets following parent-child dependencies: A-&gt;B B-&gt;C C-&gt;A</p>
<p>This is not an error that RAMSES checks, because it is very expensive to traverse the whole scene graph every time a new node is added as a child of another node.</p>
<p>For development purposes, there are other means to check the state of the scene(s) and understand why the resulting image is not as expected.</p>
<h1><a class="anchor" id="autotoc_md100"></a>
Client side validation</h1>
<p>The state of a RAMSES object can be checked at any time by calling validate() method on its instance. The validate method is available on all RAMSES client objects and will do two things:</p><ul>
<li>return an overall result status of the object (valid or invalid)</li>
<li>produce a human-readable report of the state of that object</li>
</ul>
<p>The report can be obtained by calling getValidationReport() after calling the validate().</p>
<p>The validate() method works hierarchically - each instance will recursively validate all its objects. For example, RamsesClient::validate() will validate all its resources and all its scenes, each scene will validate all its objects created within that scene and so on.</p>
<p>It is also possible to call validate from the shell. For that, one must enable the shell by calling RamsesFrameworkConfig::setRequestedRamsesShellType(). It is also possible to call validate over the so called DLT injections. To do so, send the validate command to shell context "RMSH" and select service port 5000 (WARNING this may be different based on DLT implementation).</p>
<p>Examples:<br  />
</p>
<p># prints validation report for scene with id 15<br  />
 validate 15 <br  />
<br  />
 # prints validation report for object with name "MyMesh" from scene with id 15<br  />
 validate 15 info MyMesh<br  />
</p>
<h1><a class="anchor" id="autotoc_md101"></a>
Renderer side validation</h1>
<p>The RAMSES client has a very rich information about a scene - it knows the names of objects, it has detailed scenegraph information. The renderer, however, does not necessarily have all this information (the reason for that is that data sent over network to the renderer must be kept very minimal).</p>
<p>There can be a case when a scene is in valid state on the client (according to validation described above), but it is not rendered in the the desired way. Such cases can be difficult to analyze. One simple tool to show the state of the renderer and get an overview of what is being rendered is to the "rinfo" shell command (only available on renderer side). While validate() focuses on scene content, the purpose of "rinfo" is to get overview of how is that content interpreted. It reports all the information about displays, scenes it knows and their states, more or less detailed rendering queue for each shown scene and so on.</p>
<p>Examples:<br  />
</p>
<p># prints everything that the renderer knows<br  />
 rinfo</p>
<p># prints usage of all ramses shell commands, including rinfo command<br  />
 help</p>
<p># prints only errors from embedded compositor, and verbose_mode=true<br  />
 rinfo error -v ec</p>
<p>As with validate, it is possible to invoke "rinfo" using a DLT injection to the "RMSH" log context with service number 5000. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
